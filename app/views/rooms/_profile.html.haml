.panel.panel-default
  .panel.panel-defaultpanel-body
    / About
    .row
      .col-md-8
        %h3 Biography
        %p= @room.biography
        %h3 Educations
        %p LIST OF EDUCATION SCHOOL, YEAR
        %h3 Conditions
        %p LIST OF CONDITIONS
        %h3 Insurances
        %p LIST OF INSURANCES
        %h3 Procedures
        %p LIST OF PROCEDURES
        %h3 Languages
        %p LIST OF LANGUAGES
        %h3 Gender
        %p= @room.gender
        %h3
          Reviews
          %span#average_rating
          (#{@reviews.count})
        = render 'reviews/form' if @booked && !@hasReview
        = render 'reviews/list'
      .col-md-4.nopadding
        / Google Maps
        .row
          .col-md-12.nopadding
            %p
              %i.fa.fa-map-marker{"aria-hidden" => "true"}
              = @room.full_street_address
            #map
            :css
              #map {
                width: 100%;
                height: 400px;
              }
            :javascript
              function initMap() {
                var mapDiv = document.getElementById('map');
                var map = new google.maps.Map(mapDiv, {
                  center: {lat: #{@room.latitude}, lng: #{@room.longitude}},
                  zoom: 15
                });
                var marker = new google.maps.Marker({
                  position: {lat: #{@room.latitude}, lng: #{@room.longitude}},
                  title: "#{@room.listing_name}"
                });
                var contentString = '<div id="content">'+
                '<div id="siteNotice">'+
                '</div>'+
                '<div class="row">' +
                    '<div class="">' +
                      '<div id="myCarousel" class="carousel slide" data-ride="carousel">' +
                        '<haml_silent> if @photos </haml_silent><haml_block>' +
                          '<ol class="carousel-indicators">' +
                            '<haml_silent> @photos.each do |photo| </haml_silent><haml_block>' +
                              '<li data-target="#myCarousel" data-slide-to="#{photo.id}"></li>' +
                            '</haml_block>' +
                          '</ol>' +
                        '</haml_block>' +

                        '<div class="carousel-inner" role="listbox">' +
                          '<haml_silent> if @photos </haml_silent><haml_block>' +
                            '<haml_silent> @photos.each do |photo| </haml_silent><haml_block>' +
                              '<div class="item #{'active' if photo.id == @photos[0].id}">' +
                                '<img src="#{photo.image.url()}" alt="Mountain View" style="width:190px;height:150px;">' +
                              '</div>' +
                            '</haml_block>' +
                          '</haml_block>' +
                        '</div>' +
                        '<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">' +
                          '<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>' +
                          '<span class="sr-only">Previous</span>'+
                        '</a>'+
                        '<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">'+
                          '<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>' +
                          '<span class="sr-only">Next</span>' +
                        '</a>' +
                      '</div>' +
                    '</div>' +
                  '</div>' +
                '<h3 id="firstHeading" class="firstHeading">#{@room.listing_name}</h3>'+
                '<h4 id="firstHeading" class="firstHeading">#{@room.category}</h4>'+
                '<div id="bodyContent">'+
                '</div>';
                marker.setMap(map);
                marker.addListener('click', function() {
                    infowindow.open(map, marker);
                 });
                var infowindow = new google.maps.InfoWindow({
                  content: '<a href="/rooms">'+contentString+'</a>'
                });
              }
            /
              <script src="https://maps.googleapis.com/maps/api/js?callback=initMap"
              async defer></script>
            %script{:async => "", :defer => "defer", :src => "https://maps.googleapis.com/maps/api/js?key=AIzaSyANqUD_Cbr7IantIEZIEIHNYEZ9gRMemdw&callback=initMap", :type => "text/javascript"}
