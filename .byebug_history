c
@photos
c
account_url
resource
stored_location_for(resource)
c
account_url
stored_location_for(resource)
resource
c
current_user.rooms.present?
current_user.rooms
current_user.rooms.nil?
n
current_user.class.name
n
current_user.class.name
n
l
c
@room.user
current_user
c
flash.empty?
c
@room.errors.full_messages.join(',')
@room.errors.full_messages
@room.errors
@room.error
@room
exit
c
session[:previous_url]
user_signed_in?
c
account_url
 stored_location_for(resource)
c
cc
c
session[:previous_url]
n
c
account_url
stored_location_for(resource)
resource
c
@user
n
@user.persisted?
n
request.env["omniauth.auth"]
l
c
auth.extra.raw_info.gender
auth.info
auth.extra.raw_info
c
photo.image.url
photo.image
c
photo.image.url
photo.image
photo
c
@room.update!(room_params)
@room.update(room_params)
room_params
c
last_upgrade.purchased_at.to_date
( DateTime.now.to_date - last_upgrade.purchased_at.to_date).to_i < 31
last_upgrade.purchased_at.present?
purchases.last
c
 purchases.first
 purchases.last
purchases
c
( DateTime.now.to_date- last_upgrade.purchased_at.to_date).to_i
DateTime.now.to_date
last_upgrade.purchased_at.to_date
c
last_upgrade.purchased_at.present?
purchases.last
c
@room.purchase.build
@room.purchase
@room
c
v
c
@room.is_upgraded?
@room.is_upgraded
@owner
c
params
c
params
c
params
c
resource.errors.full_messages
resource.errors
resource.valid?
resource
c
params
c
params
c
session.keys
c
session[:previous_url]
c
session[:previous_url]
c
session[:previous_url]
l
session
c
f.object.class.namec
f.object.class.name
f.object.class
f.object.
f.object.methods
f.object.method
f.object.type
f.object.kclass
f.object.class.type
f.object.class
f.object.class.eql?('Booking')
f.object
c
f.object
c
f.object.class.eql?("Booking")
f.object.class
f.object
f.methods
f
c
object
c
object
c
object
c
object
c
object
params[:refer].eql? "true"
c
params
c
user_booking
c
user_booking
!@owner
c
@owner
booked(current_user.id, @room.id)
c
booked(current_user.id, @room.id)
c
current_user.bookings.present?
current_user.bookings
current_user
c
current_user == @room.user
c
@rooms_address
@rooms_address.upgraded
@rooms_address
c
session[:loc_search]
c
devise_parameter_sanitizer.permit(:account_update, keys: [:fullname, :phone_number, :description, :email, :password, :relatives=>{}])
params
devise_parameter_sanitizer.permit(:account_update, keys: [:fullname, :phone_number, :description, :email, :password, :relatives=>[]])
devise_parameter_sanitizer.permit(:account_update, keys: [:fullname, :phone_number, :description, :email, :password])
devise_parameter_sanitizer.permit(:account_update, keys: [:fullname, :phone_number, :description, :email, :password, :relatives])
c
params
params.require(:user)
c
room
c
room.photos.image
room.photos
room.photos[0]
c
room.photos[0]
c
@rooms_address
c
params
@rooms_address
c
@photos
c
@rooms_address.where(category: params[:category])
@rooms_address
c
params[:category].present?
@rooms_address
c
Room.where(active: true).near(session[:loc_search], 200, order: 'distance')
session[:loc_search]
Room.where(active: true)
c
 Room.where(active: true)
n
session[:loc_search]
c
step
c
@room
c
params[:room]
params
c
params
@room
room
c
wizard_pathform_for(@room, url: wizard_path, method: :put
wizard_path
@room
c
wizard_path
wizard_path(@room)
@room
wizard_path
n
c
wizard_path(:step_second)
@room.save!
c
@room
c
@room
c
@room.save!
c
@room.save!
@room.attributes = room_params
@room = Room.new
c
@room.attributes = room_params
@room = Room.new
@room.attributes = room_params
params[:room]
room_params
c
@room
